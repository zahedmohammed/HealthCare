<section class="container-fluid with-maxwidth chapter">

    <article class="article">

        <h2 class="article-title">New Issue-Tracker</h2>
        <div class="box box-default">
            <div class="box-body padding-xl">

                <form role="form" #heroForm="ngForm">

                    <div class="form-group row">
                        <label for="repo" class="col-md-1 control-label">
                        </label>
                        <div class="col-md-4">
                            <mat-icon matSuffix class="material-icons">perm_identity</mat-icon>
                            <mat-form-field>
                                <mat-select placeholder="Owner" required [(ngModel)]="entry.org.id" name="type">
                                    <mat-option *ngFor="let org of orgs" [value]="org.org.id">
                                        {{org.org.name}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="form-group row">
                        <label for="repo" class="col-md-1 control-label">
                        </label>
                        <div class="col-md-4">
                            <mat-icon matSuffix class="material-icons">lock_outline</mat-icon>
                            <mat-form-field>
                                <mat-select placeholder="Access level" [(ngModel)]="entry.visibility" name="Access level">
                                    <mat-option *ngFor="let visibility of visibilities" [value]="visibility">
                                        {{visibility}}
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="divider divider-dashed divider-lg pull-in"></div>

                    <div class="form-group row">
                        <label for="name" class="col-md-1 control-label"></label>
                        <div class="col-md-4">
                            <mat-input-container class="full-width">
                                <input required [(ngModel)]="entry.name" name="name" id="name"
                                       matInput placeholder="Name">
                            </mat-input-container>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-1 control-label">
                        </label>
                        <div class="col-md-4">
                            <mat-form-field>
                                <mat-select placeholder="Account" required [(ngModel)]="entry.account.id" name="account">
                                    <mat-option *ngFor="let account of accounts" [value]="account.id" (click)="setAccount(account);">
                                        {{account.name}} ({{account.accountType}})
                                    </mat-option>
                                </mat-select>
                            </mat-form-field>
                        </div>
                    </div>


                    <!--<div class="form-group row" [hidden]="!entry.name">-->
                        <!--<label for="repo" class="col-md-1 control-label">-->
                        <!--</label>-->
                        <!--<div class="col-md-4">-->
                            <!--<mat-form-field>-->
                                <!--<mat-select placeholder="Account" [(ngModel)]="entry.skill.id" name="skill">-->
                                    <!--<mat-option *ngFor="let skill of skills" [value]="skill.id">-->
                                        <!--{{skill.name}}-->
                                    <!--</mat-option>-->
                                <!--</mat-select>-->
                            <!--</mat-form-field>-->
                        <!--</div>-->
                    <!--</div>-->

                    <div class="form-group row" [hidden]="entry.account.accountType !== 'GitHub' && entry.account.accountType !== 'Jira' ">
                        <label for="repo" class="col-md-1 control-label">
                        </label>
                        <div class="col-md-4">
                            <mat-input-container class="full-width">
                                <input required [(ngModel)]="entry.prop1" name="url" id="repo"
                                       matInput placeholder="Issue Tracker URL">
                            </mat-input-container>
                        </div>
                        <div class="col-md-7">
                            <div class="callout1 text-muted callout-info1">
                                <p>Fx will automatically open, update, and close bugs for failed test in the Issue-Tracking system.</p>
                            </div>
                        </div>
                    </div>

                    <div class="form-group row" [hidden]="entry.account.accountType !== 'JIRA'">
                        <label class="col-md-1 control-label">
                        </label>
                        <div class="col-md-4">
                            <mat-input-container class="full-width">
                                <input [(ngModel)]="entry.prop2"
                                       matInput placeholder="Jira project short name" name="project_name">
                            </mat-input-container>
                        </div>
                    </div>

                    <!--<div class="form-group row" [hidden]="!entry.skill.id">-->
                        <!--<label class="col-md-1 control-label">-->
                        <!--</label>-->
                        <!--<div class="col-md-4">-->
                            <!--<mat-input-container class="full-width">-->
                                <!--<input [(ngModel)]="entry.prop3"-->
                                       <!--matInput placeholder="Username/Access-key" name="accessKey">-->
                            <!--</mat-input-container>-->
                        <!--</div>-->
                    <!--</div>-->

                    <!--<div class="form-group row" [hidden]="!entry.skill.id">-->
                        <!--<label class="col-md-1 control-label">-->
                        <!--</label>-->
                        <!--<div class="col-md-4">-->
                            <!--<mat-input-container class="full-width">-->
                                <!--<input [(ngModel)]="entry.prop4"-->
                                       <!--matInput placeholder="Password/Secret-key" name="secretKey">-->
                            <!--</mat-input-container>-->
                        <!--</div>-->
                    <!--</div>-->

                    <div class="form-group row">
                        <div class="col-md-1"></div>
                        <div class="col-md-8">
                            <button mat-raised-button color="primary" (click)="create();"
                                    class="btn-w-md no-margin-left">Launch
                            </button>
                            <button mat-button type="button" color="primary" class="btn-w-md" [routerLink]="['/app/issues']">
                                Cancel
                            </button>
                        </div>
                    </div>

                </form>

            </div>
        </div>
    </article>
</section>
