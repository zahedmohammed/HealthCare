<div class="box box-default">
    <div>
        <article>
            <section class="container-fluid with-maxwidth no-breadcrumbs chapter">
                <a href="javascript:;" [routerLink]="['/app/regions']">Test Bots </a>
                &nbsp;<span class="text-muted">&nbsp;<i class="fa fa-chevron-right text-muted"></i>&nbsp;</span>&nbsp;New
            </section>
        </article>
    </div>
</div>
<br />
<section class="container-fluid with-maxwidth chapter" xmlns="http://www.w3.org/1999/html">
    <nav mat-tab-nav-bar>
        <label mat-tab-link [active]="true" [routerLink]="['/app/regions']">My Bots
        </label>
        <label mat-tab-link [routerLink]="['/app/superbotnetwork']">Super-Bot-Network
        </label>
    </nav>
    <br>
    <article class="article">
        <div class="box box-default">
            <div class="box-body">
                <div class="box-body">
                    <mat-horizontal-stepper [linear]="isLinear" #stepper>
                        <mat-step [stepControl]="firstFormGroup">
                            <form [formGroup]="firstFormGroup">
                                <ng-template matStepLabel>Bot Details</ng-template>
                                <form role="form" #heroForm1="ngForm" class="row">
                                    <mat-input-container class="col-md-5">
                                        <input required [(ngModel)]="entry.name" name="name" id="name" matInput
                                            placeholder="Bot name" autocomplete="off" (change)="enable();">
                                    </mat-input-container>
                                    <div class="col-md-7">
                                        <div class="callout1 text-muted callout-info1">
                                            <p>A bot is a light-weight and stateless container and can be deployed on
                                                developer laptops,
                                                bare-metal servers & private/public cloud regions. Bot is headless and
                                                it has no
                                                open ports or APIs to talk. Bot receives tasks from FX Control-Plane
                                                over SSL.</p>
                                            <p>Name represents bot region name. You'll use this name to schedule job
                                                runs. example
                                                usage: 'region: Org/Name'.
                                            </p>
                                        </div>
                                    </div>
                                </form>
                                <div class="pull-right">
                                    <button mat-button type="button" [routerLink]="['/app/regions']">Cancel
                                    </button>
                                    <button mat-raised-button color="primary" class="btn-w-md" (click)="manualDeploy();"
                                        [disabled]="!heroForm1.valid">
                                        Create Self Hosted Bot & Complete
                                    </button> &nbsp; &nbsp;
                                    <button mat-raised-button color="primary" class="btn-w-md" matStepperNext (click)="getCloudAccountForExecutionBotPage();"
                                        [disabled]="!heroForm1.valid">
                                        Auto Deploy to Cloud & Next</button>
                                </div>
                            </form>
                        </mat-step>

                        <mat-step [stepControl]="secondFormGroup">
                            <form [formGroup]="secondFormGroup">
                                <ng-template matStepLabel>Deploy Cloud</ng-template>
                                <form role="form" #heroForm2="ngForm" class="row">

                                    <div class="col-md-12 container">
                                        <div class="h6">Accounts &nbsp; <button mat-raised-button class="btn-w-md text-primary pull-right"
                                                (click)="openDialog()"><i class="fa fa-plus"></i>&nbsp;&nbsp;
                                                New Cloud Credentials</button></div><br><br>
                                        <div class="row">
                                            <div class="col-xl-2 mb-3" *ngFor="let account of cloudAccounts">
                                                <a href="javascript:;" class="item-card text-dark mat-elevation-z8">
                                                    <div class="text-center" (click)="getRegions($event, account)"
                                                        [ngClass]="{'active': entry.account == account}">
                                                        <div class="card-header">
                                                            <div *ngIf="account.accountType === 'AZURE'"><i class="fa fa-windows fa-2x mt-2 text-primary"
                                                                    aria-hidden="true"></i></div>
                                                            <div *ngIf="account.accountType === 'AWS'"><i class="fa fa-amazon fa-2x mt-2 text-warning"
                                                                    aria-hidden="true"></i></div>
                                                            <span class="text-muted"> {{account.accountType}}</span>
                                                        </div>
                                                        <div class="card-footer py-2 no-border">{{account.name}}</div>
                                                    </div>
                                                </a>
                                            </div>
                                        </div>
                                        <hr>
                                    </div>

                                    <div class="col-md-12 container">
                                        <span class="h6">Regions</span>
                                        <span>&nbsp; &nbsp;(Cloud region where the bot will be deployed.)</span><br><br>
                                        <div class="row">
                                            <div class="col-xl-2 mb-3" *ngFor="let r of regions" (click)="selectedRegion($event, r)">
                                                <a href="javascript:;" class="item-card text-dark mat-elevation-z8">
                                                    <div class="card-header text-center" [ngClass]="{'active': entry.region == r}">
                                                        <div class="card-bottom">&nbsp;</div>
                                                        <span>{{r}}</span>
                                                        <div class="card-bottom">&nbsp;</div>
                                                    </div>
                                                </a>
                                            </div>
                                            <hr>
                                        </div>
                                        <hr>
                                    </div>

                                    <mat-form-field class="col-md-5">
                                        <input [(ngModel)]="entry.min" name="min" id="min" matInput placeholder="Cluster Size (1-100)"
                                            autocomplete="off" type="number" min="1" max="100" required>
                                    </mat-form-field>
                                    <div class="col-md-7">

                                        <div class="callout1 text-muted callout-info1 mt-4">
                                            <p>
                                                Total bot instances. Defaults to 1.
                                            </p>
                                        </div>
                                    </div>
                                </form>
                                <div class="pull-right">
                                    <button mat-button matStepperPrevious>Back</button>
                                    <button mat-raised-button color="primary" (click)="create();" [disabled]="!heroForm2.valid">
                                        Deploy Bot & Complete
                                    </button>
                                </div>
                            </form>
                        </mat-step>
                    </mat-horizontal-stepper>
                </div>
            </div>
        </div>
    </article>
</section>