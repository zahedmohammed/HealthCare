<section class="container-fluid with-maxwidth chapter">

    <article class="article">
        <h2 class="article-title"><a href="javascript:;" [routerLink]="['/app/issues']"> Issue-Tracker </a> / {{entry.name}}</h2>
      <!--  <h2 class="article-title">{{entry.name}}</h2>-->

        <div class="box box-default">
            <div class="box-body">
                <mat-tab-group (selectedTabChange)="tabChanged($event)">
                    <mat-tab label="Details">
                        <section class="box box-transparent">
                            <div class="box-body">
                                <div class="box1 box-default">
                                    <div class="box-body padding-xl">
                                        <form role="form" #heroForm="ngForm">

                                            <div class="form-group row">
                                                <label for="name" class="col-md-1 control-label"></label>
                                                <div class="col-md-4">
                                                    <mat-input-container class="full-width">
                                                        <input required disabled [(ngModel)]="entry.name" name="name"
                                                               id="name"
                                                               matInput placeholder="Name">
                                                    </mat-input-container>
                                                </div>
                                            </div>

                                            <div class="form-group row">
                                                <label class="col-md-1 control-label">
                                                </label>
                                                <div class="col-md-4">
                                                    <mat-form-field>
                                                        <mat-select placeholder="Account"
                                                                    [(ngModel)]="entry.account.id" name="account"
                                                                    id="account">
                                                            <mat-option *ngFor="let account of accounts"
                                                                        [value]="account.id"
                                                                        (click)="setAccount(account);">
                                                                {{account.name}} ({{account.accountType}})
                                                            </mat-option>
                                                        </mat-select>
                                                    </mat-form-field>
                                                </div>
                                            </div>

                                            <div class="form-group row">
                                                <label class="col-md-1 control-label">
                                                </label>
                                                <div class="col-md-4">
                                                    <mat-input-container class="full-width">
                                                        <input required [(ngModel)]="entry.prop1" name="url"
                                                               matInput placeholder="Issue Tracker URL">
                                                    </mat-input-container>
                                                </div>
                                                <div class="col-md-7">
                                                    <div class="callout1 text-muted callout-info1">
                                                        <p>Fx will automatically open, update, and close bugs for failed
                                                            test in the Issue-Tracking system.</p>
                                                    </div>
                                                </div>
                                            </div>

                                            <div class="form-group row" [hidden]="entry.account.accountType !== 'JIRA'">
                                                <label class="col-md-1 control-label">
                                                </label>
                                                <div class="col-md-4">
                                                    <mat-input-container class="full-width">
                                                        <input [(ngModel)]="entry.prop2"
                                                               matInput placeholder="Jira project short name"
                                                               name="project_name">
                                                    </mat-input-container>
                                                </div>
                                            </div>

                                            <!--<div class="form-group row">-->
                                            <!--<label class="col-md-1 control-label">-->
                                            <!--</label>-->
                                            <!--<div class="col-md-4">-->
                                            <!--<mat-input-container class="full-width">-->
                                            <!--<input [(ngModel)]="entry.prop3"-->
                                            <!--matInput placeholder="Username/Access-key" name="accessKey">-->
                                            <!--</mat-input-container>-->
                                            <!--</div>-->
                                            <!--</div>-->

                                            <!--<div class="form-group row">-->
                                            <!--<label class="col-md-1 control-label">-->
                                            <!--</label>-->
                                            <!--<div class="col-md-4">-->
                                            <!--<mat-input-container class="full-width">-->
                                            <!--<input [(ngModel)]="entry.prop4"-->
                                            <!--matInput placeholder="Password/Secret-key" name="secretKey">-->
                                            <!--</mat-input-container>-->
                                            <!--</div>-->
                                            <!--</div>-->

                                            <div class="form-group row">
                                                <div class="col-md-1"></div>
                                                <div class="col-md-10">
                                                    <button mat-raised-button color="primary" (click)="update();"
                                                            class="btn-w-md no-margin-left"
                                                            [disabled]="!heroForm.valid">Save
                                                    </button>
                                                    <button mat-button type="button" color="warn" class="btn-w-md"
                                                            (click)="delete();">Delete
                                                    </button>
                                                    <button mat-button type="button" color="primary" class="btn-w-md"
                                                            [routerLink]="['/app/issues']">Cancel
                                                    </button>
                                                </div>
                                            </div>

                                        </form>
                                    </div>
                                </div>
                            </div>
                        </section>
                    </mat-tab>

                    <mat-tab label="Savings">
                        <section class="box box-transparent">
                            <div class="box-body">
                                <div class="box1 box-default">
                                    <div class="box-body padding-xl">
                                        <div class="box box-transparent">
                                            <div class="box-body no-padding-h">

                                                <div class="box box-default table-box mdl-shadow--2dp">
                                                    <table class="mdl-data-table">
                                                        <thead>
                                                        <tr>
                                                            <th class="mdl-data-table__cell--non-numeric">#</th>
                                                            <th class="mdl-data-table__cell--non-numeric">Type</th>
                                                            <th class="mdl-data-table__cell--non-numeric">Formula</th>
                                                            <th>Savings</th>
                                                        </tr>
                                                        </thead>
                                                        <tbody>
                                                        <tr>
                                                            <td class="mdl-data-table__cell--non-numeric">1</td>
                                                            <td class="mdl-data-table__cell--non-numeric">Bug validations</td>
                                                            <td class="mdl-data-table__cell--non-numeric text-muted">
                                                                Total bugs (filed, updated/validated or closed)
                                                            </td>
                                                            <td>{{issueTracker?.validatedCount}}</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="mdl-data-table__cell--non-numeric"></td>
                                                            <td class="mdl-data-table__cell--non-numeric">Time savings</td>
                                                            <td class="mdl-data-table__cell--non-numeric text-muted">
                                                                ~ Total validations / 5 (i.e. 5 validations per hour)
                                                            </td>
                                                            <td>{{issueTracker?.totalHourSaving}} hrs</td>
                                                        </tr>
                                                        <tr>
                                                            <td class="mdl-data-table__cell--non-numeric"></td>
                                                            <td class="mdl-data-table__cell--non-numeric">Cost savings
                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">
                                                                ~ $50/hr per developer
                                                            </td>
                                                            <td>${{issueTracker?.totalCostSaving}}</td>
                                                        </tr>
                                                        <tr class="bg-color-info font-weight-bold">
                                                            <td class="mdl-data-table__cell--non-numeric"></td>
                                                            <td class="mdl-data-table__cell--non-numeric">Total Value
                                                            </td>
                                                            <td class="mdl-data-table__cell--non-numeric">
                                                                Time saving + Cost saving
                                                            </td>
                                                            <td>${{issueTracker?.totalCostSaving}}</td>
                                                        </tr>
                                                        <!--<tr class="bg-color-info">
                                                            <td class="mdl-data-table__cell&#45;&#45;non-numeric"></td>
                                                            <td class="mdl-data-table__cell&#45;&#45;non-numeric">Total</td>
                                                            <td class="mdl-data-table__cell&#45;&#45;non-numeric text-muted"></td>
                                                            <td>${{issueTracker?.total}}</td>
                                                        </tr>-->
                                                        </tbody>
                                                    </table>
                                                </div>

                                            </div>
                                        </div>

                                      <!--  <div>Total Months : {{saving?.calMonths}}<br></div>
                                        <div>Instance Count: {{saving?.count}}<br></div>
                                        <div>Instance Create Date: {{saving?.startDate | date:'short'}}<br></div>-->

                                    </div>
                                </div>
                            </div>
                        </section>
                    </mat-tab>
                </mat-tab-group>
            </div>
        </div>
    </article>
</section>
