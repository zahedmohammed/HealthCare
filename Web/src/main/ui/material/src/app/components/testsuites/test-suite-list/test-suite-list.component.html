<div class="box box-default">
  <div>
    <article>
      <section class="container-fluid with-maxwidth no-breadcrumbs chapter">
        <!-- <a href="javascript:;" [routerLink]="['/app/projects']"> Projects </a>
        &nbsp;<span class="text-muted"> > </span> &nbsp; -->
        <a href="javascript:;" [routerLink]="['/app/projects', project.id, 'jobs']">{{project.name}}</a>
        &nbsp;<span class="text-muted">&nbsp;<i class="fa fa-chevron-right"></i>&nbsp;</span> &nbsp;Code
      </section>
    </article>
  </div>
</div>
<br />
<section class="container-fluid with-maxwidth chapter">
  <nav mat-tab-nav-bar>
    <label mat-tab-link [routerLink]="['/app/projects', project.id, 'jobs']">Jobs
    </label>
    <label mat-tab-link [routerLink]="['/app/projects', id, 'test-suites']" [active]="true">
      <i class="material-icons">code</i> &nbsp;Code</label>
    <label mat-tab-link [routerLink]="['/app/projects', id, 'api-coverage']">
      <i class="fa fa-line-chart"></i> &nbsp;&nbsp;Insights
    </label>
    <label mat-tab-link [routerLink]="['/app/projects', id, 'recommendations']">
      <i class="material-icons text-danger" >lightbulb_outline</i> &nbsp;
      <span class="text-danger">Recommendations</span></label>

  </nav>
  <!--<br /><br />-->
  <article class="article1">
    <div class="box1 box-default">
      <div class="box-body">
        <div class="row">
          <div class="col-md-7">
            <mat-button-toggle-group #group="matButtonToggleGroup" value="testsuites" >
              <mat-button-toggle value="testsuites" [routerLink]="['/app/projects', id, 'test-suites']">Test Suites
              </mat-button-toggle>
              <mat-button-toggle value="configuration"  [routerLink]="['/app/projects', id, 'configuration']">&nbsp; AutoCode &nbsp;
              </mat-button-toggle>
              <mat-button-toggle value="git"  [routerLink]="['/app/projects', id, 'manage']">&nbsp; &nbsp; Git &nbsp; &nbsp;
              </mat-button-toggle>
            </mat-button-toggle-group>
          </div>
        </div>
        <hr>

        <div class="row">
          <div class="col-md-7">
            <!--<button mat-button color="primary" class="btn-w-md mt-3" [routerLink]="['/app/projects', id, 'test-suites', 'new']">-->
            <button mat-button color="primary" class="btn-w-md mt-3" (click)="newTestSuite()">
              <i class="fa fa-plus"></i>
              New Test Suite
            </button>
          </div>
          <div class="col-md-5">
            <p class="text-muted float-right mt-3">Total ({{length}})</p>
            <div class="mr-4">
              <mat-form-field>
                <mat-select placeholder="Search by category" [(ngModel)]="category" (selectionChange)="searchByCategory()"
                  name="category" [ngModelOptions]="{standalone: true}">
                  <mat-option *ngFor="let category of categories" [value]="category">
                    {{category}}
                  </mat-option>
                </mat-select>
              </mat-form-field>
              <mat-input-container class="ml-4">
                <input [(ngModel)]="keyword" name="search" id="search" matInput type="search" placeholder="Search by name..."
                  (keyup)="search()">
                <mat-icon matSuffix class="text-muted">search</mat-icon>
              </mat-input-container>
            </div>
          </div>
        </div>

        <div class="mat-elevation-z8 box-default">
          <mat-table [dataSource]="dataSource" matSort matSortActive="modified-date" matSortDisableClear
            matSortDirection="desc">
            <!-- Name Column -->
            <ng-container matColumnDef="name">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Name </mat-header-cell>
              <!--<mat-cell *matCellDef="let element" [routerLink]="['/app/projects', id, 'test-suites', element.id, 'edit']">-->
              <mat-cell *matCellDef="let element" (click)="showTSDialog(element.id,element.name,element.autoGenerated)">
                <a href="javascript:;"> {{element.name}} </a></mat-cell>
            </ng-container>

            <!-- Category Column -->
            <ng-container matColumnDef="category">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Category </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.category}} </mat-cell>
            </ng-container>

            <!-- Type Column -->
            <ng-container matColumnDef="type">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Type </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.type}} </mat-cell>
            </ng-container>

            <!-- Type Auto Created -->
            <ng-container matColumnDef="auto-created">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Auto Created </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.autoGenerated? 'Yes' : 'No'}} </mat-cell>
            </ng-container>

            <!-- Modified Date Column -->
            <ng-container matColumnDef="modified-date">
              <mat-header-cell *matHeaderCellDef mat-sort-header> Modified Date </mat-header-cell>
              <mat-cell *matCellDef="let element"> {{element.modifiedDate | timeAgo}} </mat-cell>
            </ng-container>

            <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
            <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
          </mat-table>

          <mat-paginator [hidden]="length <= pageSize" [pageSize]="pageSize" [pageIndex]="page" hidePageSize="true"
            (page)="change($event)" [length]="length">
          </mat-paginator>
        </div>
      </div>
    </div>
    <br />
    <br />
    <br />
  </article>
</section>